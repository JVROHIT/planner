# ===========================================
# FocusFlow Application Configuration
# ===========================================
# All values are driven by environment variables
# See .env.example for required variables
# NEVER commit .env to version control
# ===========================================

# Application
spring.application.name=${APP_NAME:FocusFlow}
server.port=${APP_PORT:8080}

# ===========================================
# MongoDB Configuration
# ===========================================
spring.data.mongodb.uri=${MONGODB_URI:mongodb://localhost:27017/focusflow}
spring.data.mongodb.database=${MONGODB_DATABASE:focusflow}
# Auto-index creation (disable in production for performance)
spring.data.mongodb.auto-index-creation=true

# ===========================================
# Redis Configuration
# ===========================================
spring.data.redis.host=${REDIS_HOST:localhost}
spring.data.redis.port=${REDIS_PORT:6379}
spring.data.redis.password=${REDIS_PASSWORD:}
spring.data.redis.database=${REDIS_DATABASE:0}
spring.data.redis.timeout=${REDIS_TIMEOUT:2000}ms
# Enable keyspace notifications for expiration events
# CRITICAL: Redis must have 'notify-keyspace-events Ex' configured

# ===========================================
# JWT Security Configuration
# ===========================================
security.jwt.secret=${JWT_SECRET:CHANGE_ME_IN_PRODUCTION}
security.jwt.expiration=${JWT_EXPIRATION_MS:86400000}

# ===========================================
# Logging Configuration
# ===========================================
logging.level.root=${LOG_LEVEL_ROOT:INFO}
logging.level.com.personal.planner=${LOG_LEVEL_APP:DEBUG}
logging.level.org.springframework.data.mongodb=${LOG_LEVEL_MONGO:WARN}
logging.level.org.springframework.data.redis=${LOG_LEVEL_REDIS:WARN}

# ===========================================
# Actuator (Health Checks)
# ===========================================
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=when_authorized
